class Timeout {
	constructor(hook, t) {
		this.id = setTimeout(() => {
			this.hook();
			this.id = null;
		}, t);

		this.hook = hook;
		this.t = t;
	}

	exec() {
		if (this.id != null) {
			this.cancel();
			this.hook();
		}
	}

	cancel() {
		if (this.id != null) {
			clearTimeout(this.id);
			this.id = null;
		}
	}

	has_execd() { return this.id == null; }
}
exports.Timeout = Timeout;
