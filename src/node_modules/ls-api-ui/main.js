var APIError = require('ls-api').APIError;
var dialog = require('ls-dialog');

exports.handle_error = function(e) {
	if (e === null) { return; }
	if (e.code in APIError.messages) {
		dialog.dialog(
			dialog.TYPE.ALERT,
			APIError.messages[e.code].short,
			APIError.messages[e.code].long + `(${e.details})`
		);
	} else {
		dialog.dialog(
			dialog.TYPE.ALERT,
			'An unknown error occured',
			e.details
		);
	}
	console.error(e.message);
}
